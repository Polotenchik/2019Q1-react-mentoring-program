module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s="MRYV")}({"1fKG":function(e,n){e.exports=require("redux-saga")},"3UD+":function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},"7ITC":function(e,n){e.exports=require("react-dom/server")},"86LY":function(e,n){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},"8Vax":function(e,n){e.exports=require("babel-polyfill")},"8vQp":function(e,n){e.exports=require("@babel/runtime/helpers/defineProperty")},"9ClG":function(e,n){e.exports=require("react-hot-loader")},Dtiu:function(e,n){e.exports=require("styled-components")},ELRt:function(e,n){e.exports=require("@babel/runtime/helpers/objectSpread")},HyVL:function(e,n){e.exports=require("@babel/runtime/helpers/objectWithoutProperties")},MRYV:function(e,n,t){"use strict";t.r(n);var r=t("cDcd"),a=t.n(r),o=(t("eW3l"),t("7ITC")),c=t("oncg"),i=t("qzys"),u=t("rKB8"),l=t("1fKG"),s=t.n(l),f=t("Q2AE"),p=s()(),d=function(e){var n=Object(u.createStore)(f.f,e,Object(u.applyMiddleware)(p));return p.run(f.g),n.runSaga=function(){return p.run(f.g)},n.close=function(){return n.dispatch(l.END)},n};function m(){return function(e,n){var t=d();console.log(t);var r={},u=function(){return a.a.createElement(i.a,{context:r,location:e.url,Router:c.StaticRouter,store:t})};console.log(t.runSaga()),t.runSaga().done.then(function(){var e=Object(o.renderToString)(u());if(r.url)return n.writeHead(302,{Location:r.url}),void n.end();var a=t.getState();n.send(function(e,n){return'\n      <!doctype html>\n      <html>\n        <head>\n          <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">\n    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">\n          <title>Netfix</title>\n           '.concat('<link href="/css/main.css" rel="stylesheet" type="text/css">','\n        </head>\n        <body>\n          <div id="root">').concat(e,"</div>\n          <script>\n            window.PRELOADED_STATE = ").concat(JSON.stringify(n).replace(/</g,"\\<"),'\n          <\/script>\n          <script src="/js/main.js"><\/script>\n        </body>\n      </html>\n  ')}(e,a))}),Object(o.renderToString)(u()),t.close()}}t.d(n,"default",function(){return m})},MmcY:function(e,n){e.exports=require("@babel/runtime/helpers/classCallCheck")},Q2AE:function(e,n,t){"use strict";var r=t("zr5I"),a=t.n(r),o="FETCH_MOVIES",c="FETCH_MOVIE",i=function(e){return{type:o,url:e}},u=function(e){return{type:c,id:e}},l=function(e,n){return{type:"UPDATE_MOVIES",movies:e,total:n}},s=function(e){return{type:"UPDATE_MOVIE",activeFilm:e}},f=function(e){return{type:"UPDATE_SAME_GENRE_MOVIES",sameGenresFilms:e}},p=function(e){return{type:"SAVE_TERM",term:e}},d=function(e){return{type:"TOGGLE_SEARCH_BY",searchBy:e}},m=function(e){return{type:"TOGGLE_SORT_BY",sortBy:e}},h=function(e){return{type:"TOGGLE_SORT_ORDER",sortOrder:e}},g=function(e){return{type:"CHANGE_PER_PAGE",currentPage:e}},v=function(e){return{type:"CHANGE_ITEMS_PER_PAGE",moviesPerPage:e}},y=function(){return{type:"CHANGE_OFFSET"}},b=function(){return{type:"SEARCH_BUTTON_CLICK"}},E=t("dvlR"),x=t.n(E),P=t("RmXt"),O=x.a.mark(S),w=x.a.mark(j),B=x.a.mark(k);function S(e){var n,t,r;return x.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(P.call)(a.a.get,e.url);case 2:return n=o.sent,o.next=5,n.data.data;case 5:return t=o.sent,o.next=8,n.data.total;case 8:return r=o.sent,o.next=11,Object(P.put)(l(t,r));case 11:case"end":return o.stop()}},O)}function j(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.takeLatest)(o,S);case 2:case"end":return e.stop()}},w)}function k(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.all)([j()]);case 2:case"end":return e.stop()}},B)}var _=x.a.mark(M),T=x.a.mark(R),C=x.a.mark(F);function M(e){var n,t,r,o,c;return x.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(P.call)(a.a.get,"http://react-cdp-api.herokuapp.com/movies/".concat(e.id));case 2:return n=i.sent,i.next=5,n.data;case 5:return t=i.sent,i.next=8,n.data.genres[0];case 8:return r=i.sent,i.next=11,Object(P.put)(s(t));case 11:return i.next=13,Object(P.call)(a.a,"https://reactjs-cdp.herokuapp.com/movies?filter=".concat(r));case 13:return o=i.sent,c=o.data,i.next=17,Object(P.put)(f(c));case 17:case"end":return i.stop()}},_)}function R(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.takeLatest)(c,M);case 2:case"end":return e.stop()}},T)}function F(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.all)([R()]);case 2:case"end":return e.stop()}},C)}var G=x.a.mark(H);function H(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.all)([k(),F()]);case 2:case"end":return e.stop()}},G)}var q=t("rKB8"),A=t("ELRt"),D=t.n(A),I={url:null,movies:[],loading:!1,total:0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.url,a=n.movies,c=n.total;switch(t){case o:return D()({},e,{loading:!0,url:r});case"UPDATE_MOVIES":return D()({},e,{loading:!1,movies:a,total:c});default:return e}},L={activeFilm:null,sameGenresFilms:null,id:null,loading:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.activeFilm,a=n.sameGenresFilms;switch(t){case c:return D()({},e,{id:id,loading:!0});case"UPDATE_MOVIE":return D()({},e,{activeFilm:r,loading:!0});case"UPDATE_SAME_GENRE_MOVIES":return D()({},e,{sameGenresFilms:a,loading:!1});case"SEARCH_BUTTON_CLICK":return D()({},e,{activeFilm:null,sameGenresFilms:null});default:return e}},z={currentPage:1,moviesPerPage:12,searchBy:"title",sortBy:"release_date",sortOrder:"asc",offset:0,term:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.term,a=n.searchBy,o=n.sortBy,c=n.sortOrder,i=n.currentPage,u=n.moviesPerPage;switch(t){case"SAVE_TERM":return D()({},e,{term:r});case"TOGGLE_SEARCH_BY":return D()({},e,{searchBy:a,offset:0});case"TOGGLE_SORT_BY":return D()({},e,{sortBy:o});case"TOGGLE_SORT_ORDER":return D()({},e,{sortOrder:c});case"CHANGE_PER_PAGE":return D()({},e,{currentPage:i});case"CHANGE_ITEMS_PER_PAGE":return D()({},e,{moviesPerPage:u,currentPage:1,offset:0});case"CHANGE_OFFSET":return D()({},e,{offset:(e.currentPage-1)*e.moviesPerPage});default:return e}},Y=Object(q.combineReducers)({movies:N,movie:V,search:U});t.d(n,"e",function(){return i}),t.d(n,"d",function(){return u}),t.d(n,"h",function(){return p}),t.d(n,"j",function(){return d}),t.d(n,"k",function(){return m}),t.d(n,"l",function(){return h}),t.d(n,"c",function(){return g}),t.d(n,"a",function(){return v}),t.d(n,"b",function(){return y}),t.d(n,"i",function(){return b}),t.d(n,"f",function(){return Y}),t.d(n,"g",function(){return H})},RmXt:function(e,n){e.exports=require("redux-saga/effects")},"W+0S":function(e,n){e.exports=require("isomorphic-fetch")},Y6CL:function(e,n){e.exports=require("@babel/runtime/helpers/taggedTemplateLiteral")},ZmRK:function(e,n){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},a4YD:function(e,n){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},cB7G:function(e,n){e.exports=require("@babel/runtime/helpers/inherits")},cDcd:function(e,n){e.exports=require("react")},dGlx:function(e,n,t){e.exports=t.p+"films.jpeg"},dvlR:function(e,n){e.exports=require("@babel/runtime/regenerator")},eW3l:function(e,n){e.exports=require("qs")},h74D:function(e,n){e.exports=require("react-redux")},iTvO:function(e,n){e.exports=require("@babel/runtime/helpers/createClass")},khxG:function(e,n){e.exports=require("@babel/runtime/helpers/extends")},oncg:function(e,n){e.exports=require("react-router-dom")},qzys:function(e,n,t){"use strict";(function(e){t("W+0S"),t("8Vax");var r=t("cDcd"),a=t.n(r),o=(t("oncg"),t("h74D")),c=t("rf6O"),i=t.n(c),u=t("9ClG"),l=t("vpQ9"),s=function(e){var n=e.Router,t=e.location,r=e.context,c=e.store;return a.a.createElement(o.Provider,{store:c},a.a.createElement(n,{location:t,context:r},a.a.createElement(l.a,null)))};s.propTypes={Router:i.a.func.isRequired,location:i.a.string,context:i.a.shape({url:i.a.string})},s.defaultProps={location:null,context:null},n.a=Object(u.hot)(e)(s)}).call(this,t("3UD+")(e))},rKB8:function(e,n){e.exports=require("redux")},rf6O:function(e,n){e.exports=require("prop-types")},vpQ9:function(e,n,t){"use strict";var r=t("Y6CL"),a=t.n(r),o=t("MmcY"),c=t.n(o),i=t("iTvO"),u=t.n(i),l=t("86LY"),s=t.n(l),f=t("a4YD"),p=t.n(f),d=t("cB7G"),m=t.n(d),h=t("cDcd"),g=t.n(h),v=t("oncg"),y=t("Dtiu"),b=t.n(y),E={dark_grey:"#202020",lighter_grey:"#414141",sub_grey:"#161212",medium_grey:"#757575",grey:"#F5F5F5",red:"#f74260",white:"#ffffff"};function x(){var e=a()(["\n    color: ",";\n    font-size: 16px;\n"]);return x=function(){return e},e}var P=function(){return g.a.createElement(O,null,"netflixroulette")},O=b.a.a(x(),E.red);function w(){var e=a()(["\n    width: 80%;\n    margin: 0 auto;\n    padding: 10px 0;\n"]);return w=function(){return e},e}function B(){var e=a()(["\n    flex: 0 0 auto;    \n    width: 100%;\n    background-color: ",";\n"]);return B=function(){return e},e}var S=function(){return g.a.createElement(j,null,g.a.createElement(k,null,g.a.createElement(P,null)))},j=b.a.footer(B(),E.lighter_grey),k=b.a.div(w()),_=t("rf6O"),T=t.n(_),C=function(e){function n(){var e;return c()(this,n),(e=s()(this,p()(n).call(this))).state={hasError:!1},e}return m()(n,e),u()(n,[{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0,error:e,info:n})}},{key:"render",value:function(){var e=this.state.hasError,n=this.props.children;return e?g.a.createElement("h1",null,"Something went wrong."):n}}]),n}(h.Component),M=C;C.propTypes={children:T.a.oneOfType([T.a.node,T.a.arrayOf(T.a.node)]).isRequired};var R=t("ZmRK"),F=t.n(R),G=t("8vQp"),H=t.n(G),q=t("h74D"),A=t("khxG"),D=t.n(A),I=t("HyVL"),N=t.n(I);function L(){var e=a()(["\n        color: ","\n    "]);return L=function(){return e},e}function V(){var e=a()(["\n        background-color: transparent;         \n   "]);return V=function(){return e},e}function z(){var e=a()(["\n        background-color: ","\n     "]);return z=function(){return e},e}function U(){var e=a()(["\n        background-color: ",";\n        color:  ",";   \n        text-transform: uppercase;   \n        padding: 6px 12px;         \n   "]);return U=function(){return e},e}function Y(){var e=a()(["\n    color: ",";\n    text-decoration: underline;\n   "]);return Y=function(){return e},e}function K(){var e=a()(["\n  cursor: pointer;\n  margin-left: 20px;    \n  border-radius: 4px;\n  cursor: pointer;\n\n   ","\n   \n   ","   \n   \n    "," \n   \n    ","\n   \n    "," \n"]);return K=function(){return e},e}function Q(){var e=a()(["\n    display: none;\n"]);return Q=function(){return e},e}var W=function(e){var n=e.inputName,t=e.inputValue,r=e.inputId,a=e.filtered,o=e.handlerChange,c=N()(e,["inputName","inputValue","inputId","filtered","handlerChange"]);return g.a.createElement(h.Fragment,null,g.a.createElement(X,{type:"radio",name:n,value:t,id:r,onChange:function(e){return o(e.target.id,e.target.value)}}),g.a.createElement(J,D()({htmlFor:r,id:a===t?"active":void 0,active:a===r},c),t))},X=b.a.input(Q()),J=b.a.label(K(),function(e){return e.underline&&e.active&&Object(y.css)(Y(),E.red)},function(e){return e.colored&&Object(y.css)(U(),E.medium_grey,E.white)},function(e){return e.colored&&e.active&&Object(y.css)(z(),E.red)},function(e){return e.transparent&&Object(y.css)(V())},function(e){return e.transparent&&e.active&&Object(y.css)(L(),E.red)});function Z(){var e=a()(["\n            transform: rotate(90deg);\n         "]);return Z=function(){return e},e}function $(){var e=a()(["\n            transform: rotate(-90deg);\n            margin-left: 0;\n         "]);return $=function(){return e},e}function ee(){var e=a()(["\n            transform: rotate(180deg);\n        "]);return ee=function(){return e},e}function ne(){var e=a()(["\n\n    .fas {\n\n        margin-left: 20px;\n\n        ","\n\n         ","\n\n         ","\n\n     }\n"]);return ne=function(){return e},e}var te=b.a.span(ne(),function(e){return e.down&&Object(y.css)(ee())},function(e){return e.left&&Object(y.css)($())},function(e){return e.right&&Object(y.css)(Z())}),re=function(e){var n=D()({},e);return g.a.createElement(te,n,g.a.createElement("i",{className:"fas fa-arrow-up"}))};function ae(){var e=a()(["\n    display: flex;\n"]);return ae=function(){return e},e}function oe(){var e=a()(["\n    display: flex;\n    justify-content: space-around;\n    width: 80%;\n    margin: 0 auto;\n    padding: 10px 0;\n"]);return oe=function(){return e},e}function ce(){var e=a()([" \n    width: 100%;\n    background-color: ",";    \n"]);return ce=function(){return e},e}var ie=function(e){var n=e.sortBy,t=e.sortOrder,r=e.toggleSortBy,a=e.toggleSortDirection,o=e.filmsCount;return g.a.createElement(le,null,g.a.createElement(se,null,g.a.createElement("div",null,g.a.createElement("span",{id:"filmsCount"},o),g.a.createElement("span",null," movies found")),g.a.createElement(fe,null,g.a.createElement("form",null,g.a.createElement("span",null,"Sort by"),g.a.createElement(W,{inputName:"sort",inputValue:"release date",inputId:"release_date",filtered:n,handlerChange:r,transparent:!0}),g.a.createElement(W,{inputName:"sort",inputValue:"rating",inputId:"vote_average",filtered:n,handlerChange:r,transparent:!0})),g.a.createElement(re,{onClick:a,down:"desc"===t}))))},ue=ie;ie.propTypes={sortBy:T.a.string,sortOrder:T.a.string,toggleSortBy:T.a.func,toggleSortDirection:T.a.func,filmsCount:T.a.number};var le=b.a.div(ce(),E.grey),se=b.a.div(oe()),fe=b.a.div(ae());function pe(){var e=a()(["\n        background-color: ",";\n        color: ",";        \n    "]);return pe=function(){return e},e}function de(){var e=a()(["\n        background-color: ",";\n        color: ",";\n    "]);return de=function(){return e},e}function me(){var e=a()(["\n    font-size: 16px;\n    margin-left: auto;    \n    border: 0;\n    padding: 6px 12px;    \n    text-transform: uppercase;\n    border-radius: 4px;\n    outline: none;\n    cursor: pointer;\n    \n    ","\n    \n    ","\n"]);return me=function(){return e},e}var he=b.a.button(me(),function(e){return e.red&&Object(y.css)(de(),E.red,E.white)},function(e){return e.white&&Object(y.css)(pe(),E.white,E.red)}),ge=t("dGlx"),ve=t.n(ge);function ye(){var e=a()(["\n    background-color: ",";\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-blend-mode: overlay;\n"]);return ye=function(){return e},e}var be=b.a.div(ye(),E.dark_grey,ve.a);function Ee(){var e=a()(["\n    width: 80%;\n    margin: 0 auto;\n    padding: 10px 0 20px;\n"]);return Ee=function(){return e},e}var xe=b.a.div(Ee());function Pe(){var e=a()(["\n    display: flex;\n    align-items: center;  \n"]);return Pe=function(){return e},e}function Oe(){var e=a()(["\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    color: ",";\n    transform: rotate(90deg);  \n"]);return Oe=function(){return e},e}function we(){var e=a()(["\n    width: 100%;  \n    box-sizing: border-box;  \n    padding: 10px;\n    background-color: ",";;\n    color: ",";\n    border: 0;\n    border-bottom: 2px solid ",";\n    outline: none;\n"]);return we=function(){return e},e}function Be(){var e=a()(["\n    width: 100%;\n    position: relative;\n"]);return Be=function(){return e},e}function Se(){var e=a()(["\n    width: 100%;    \n"]);return Se=function(){return e},e}function je(){var e=a()(["\n        font-size: 16px;\n    "]);return je=function(){return e},e}function ke(){var e=a()(["\n        font-size: 20px;\n        font-weight: 800;\n    "]);return ke=function(){return e},e}function _e(){var e=a()(["\n    color: ",";    \n    text-transform: uppercase;\n    \n    \n    ","\n    \n    ","\n"]);return _e=function(){return e},e}var Te=function(e){var n=e.searchBy,t=e.inputChangeHandler,r=e.toggleSearchBy,a=e.formSubmitHandler;return g.a.createElement(be,null,g.a.createElement(xe,null,g.a.createElement(P,null),g.a.createElement(Me,{main:!0},"find your movie"),g.a.createElement(Re,{onSubmit:a},g.a.createElement(Fe,null,g.a.createElement(Ge,{id:"searchInput",placeholder:"Search here...",onChange:function(e){return t(e)},required:!0,autoFocus:!0}),g.a.createElement(He,{htmlFor:"searchInput"},g.a.createElement("i",{className:"fas fa-level-down-alt"}))),g.a.createElement(qe,null,g.a.createElement(Me,{small:!0},"search by"),g.a.createElement(W,{inputName:"searchBy",inputValue:"title",inputId:"title",filtered:n,handlerChange:r,colored:!0}),g.a.createElement(W,{inputName:"searchBy",inputValue:"genre",inputId:"genres",filtered:n,handlerChange:r,colored:!0}),g.a.createElement(he,{id:"searchBtn",type:"submit",red:!0},"search")))))},Ce=Te;Te.propTypes={searchBy:T.a.string.isRequired,inputChangeHandler:T.a.func.isRequired,toggleSearchBy:T.a.func.isRequired,formSubmitHandler:T.a.func.isRequired};var Me=b.a.h2(_e(),E.white,function(e){return e.main&&Object(y.css)(ke())},function(e){return e.small&&Object(y.css)(je())}),Re=b.a.form(Se()),Fe=b.a.div(Be()),Ge=b.a.input(we(),E.sub_grey,E.white,E.red),He=b.a.label(Oe(),E.medium_grey),qe=b.a.div.attrs({className:"search-wrapper"})(Pe()),Ae=t("Q2AE");function De(){var e=a()(["\n  flex: 0 0 auto; \n"]);return De=function(){return e},e}var Ie=function(e){function n(){var e,t;c()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=s()(this,(e=p()(n)).call.apply(e,[this].concat(a))),H()(F()(t),"state",{term:""}),H()(F()(t),"inputChangeHandler",function(e){var n=e.target.value;t.setState({term:n})}),H()(F()(t),"toggleSortDirectionHandler",function(){var e=t.props,n=e.sortOrder,r=e.toggleSortOrder,a=e.fetchMovies,o=e.term,c=e.searchBy,i=e.sortBy,u=e.offset,l=e.moviesPerPage,s="asc"===n?"desc":"asc";(r(s),o)&&a("http://react-cdp-api.herokuapp.com/movies?searchBy=".concat(c,"&sortBy=").concat(i,"&sortOrder=").concat(s,"&search=").concat(o,"&offset=").concat(u,"&limit=").concat(l))}),H()(F()(t),"formSubmitHandler",function(e){e.preventDefault();var n=t.state.term,r=t.props,a=r.saveTerm,o=r.fetchMovies,c=r.searchBy,i=r.sortBy,u=r.sortOrder,l=r.offset,s=r.moviesPerPage,f=r.history;a(n),f.push("/search?searchBy=".concat(c,"&sortBy=").concat(i,"&sortOrder=").concat(u,"&search=").concat(n,"&offset=").concat(l,"&limit=").concat(s)),o("http://react-cdp-api.herokuapp.com/movies?searchBy=".concat(c,"&sortBy=").concat(i,"&sortOrder=").concat(u,"&search=").concat(n,"&offset=").concat(l,"&limit=").concat(s))}),H()(F()(t),"toggleSortByHandler",function(e){var n=t.props,r=n.toggleSortBy,a=n.fetchMovies,o=n.searchBy,c=n.sortOrder,i=n.term,u=n.offset,l=n.moviesPerPage;(r(e),i)&&a("http://react-cdp-api.herokuapp.com/movies?searchBy=".concat(o,"&sortBy=").concat(e,"&sortOrder=").concat(c,"&search=").concat(i,"&offset=").concat(u,"&limit=").concat(l))}),t}return m()(n,e),u()(n,[{key:"render",value:function(){var e=this.props,n=e.total,t=e.searchBy,r=e.sortBy,a=e.sortOrder,o=e.toggleSearchBy;return g.a.createElement(h.Fragment,null,g.a.createElement(Le,null,g.a.createElement(Ce,{searchBy:t,inputChangeHandler:this.inputChangeHandler,toggleSearchBy:o,formSubmitHandler:this.formSubmitHandler}),g.a.createElement(ue,{sortBy:r,sortOrder:a,toggleSortBy:this.toggleSortByHandler,toggleSortDirection:this.toggleSortDirectionHandler,filmsCount:n})))}}]),n}(h.Component),Ne=Object(v.withRouter)(Object(q.connect)(function(e){var n=e.movies,t=e.movie,r=e.search;return{total:n.total,activeFilm:t.activeFilm,offset:r.offset,moviesPerPage:r.moviesPerPage,searchBy:r.searchBy,sortBy:r.sortBy,sortOrder:r.sortOrder,term:r.term}},{toggleSearchBy:Ae.j,searchButtonHandler:Ae.i,toggleSortBy:Ae.k,fetchMovies:Ae.e,saveTerm:Ae.h,toggleSortOrder:Ae.l})(Ie));Ie.propTypes={sortOrder:T.a.string,total:T.a.number,sortBy:T.a.string,searchBy:T.a.string,toggleSearchBy:T.a.func,toggleSortBy:T.a.func,toggleSortOrder:T.a.func,fetchMovies:T.a.func,saveTerm:T.a.func,activeFilm:T.a.shape(),term:T.a.string,offset:T.a.number,moviesPerPage:T.a.number,history:T.a.shape()};var Le=b.a.header(De());function Ve(){var e=a()(["\n   color: ","; \n   text-align: center;\n   vertical-align: middle;\n   font-size: 30px;\n"]);return Ve=function(){return e},e}function ze(){var e=a()(["\n    width: 80%;\n    margin: 0 auto;  \n"]);return ze=function(){return e},e}function Ue(){var e=a()(["\n    flex: auto;\n    width: 100%;\n    height: auto;\n    background-color: ",";\n"]);return Ue=function(){return e},e}var Ye=function(e){var n=e.text;return g.a.createElement(Qe,null,g.a.createElement(We,null,g.a.createElement(Xe,null,n)))},Ke=Ye;Ye.propTypes={text:T.a.string.isRequired};var Qe=b.a.div(Ue(),E.white),We=b.a.div(ze()),Xe=b.a.p.attrs({className:"empty-text"})(Ve(),E.red),Je=function(){return g.a.createElement(h.Fragment,null,g.a.createElement(Ne,null),g.a.createElement(Ke,{text:"Please, select your desired film.. "}))};function Ze(){var e=a()(["\n    position: absolute;\n    top: 0;\n    right: 16px;\n    border: 1px solid black;\n    padding: 4px;\n    font-size: 12px;\n"]);return Ze=function(){return e},e}function $e(){var e=a()(["\n    text-transform: uppercase;\n    padding: 0 40px 0 0;\n    margin: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n"]);return $e=function(){return e},e}function en(){var e=a()(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    height: 20%;\n    padding: 0 16px 16px ;\n    box-sizing: border-box;\n"]);return en=function(){return e},e}function nn(){var e=a()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 80%;\n    padding: 16px;\n    box-sizing: border-box;\n"]);return nn=function(){return e},e}function tn(){var e=a()(["\n    position: relative;\n    width: 30%;\n    height: 0;\n    padding-top: 55%;\n    text-decoration: none;\n    box-shadow: 0 4px 11px 0 grey;\n    margin-bottom: 30px;\n    cursor: pointer;  \n      \n  @media (max-width: 900px) {\n    width: 48%;\n    padding-top: 88%;\n  }\n  \n  @media (max-width: 500px) {\n    width: 100%;\n    padding-top: 183%;\n  }    \n"]);return tn=function(){return e},e}var rn=function(e){var n=e.info;return g.a.createElement(on,{to:"/film/".concat(n.id),key:n.id},g.a.createElement(cn,{src:n.poster_path}),g.a.createElement(un,null,g.a.createElement(ln,null,n.title),g.a.createElement("span",null,n.genres.join(", ")),g.a.createElement(sn,null,n.release_date.split("-")[0])))},an=rn;rn.propTypes={info:T.a.shape({id:T.a.number,title:T.a.string,tagline:T.a.string,image:T.a.string,vote_average:T.a.number,vote_count:T.a.number,releasedate:T.a.number,poster_path:T.a.string,overview:T.a.string,budget:T.a.number,revenue:T.a.number,genres:T.a.array,runtime:T.a.number})};var on=b()(v.Link).attrs({className:"film-link"})(tn()),cn=b.a.img(nn()),un=b.a.div(en()),ln=b.a.h3($e()),sn=b.a.span(Ze());function fn(){var e=a()(["\n    display: flex;\n    justify-content: space-between;\n    width: 80%;\n    margin:20px auto;\n"]);return fn=function(){return e},e}var pn=function(e){var n=e.arrayOfPages,t=e.arrayOfPerPages,r=e.currentPage,a=e.moviesPerPage,o=e.changePageHandler,c=e.changePerPageHandler;return g.a.createElement(dn,null,g.a.createElement("form",null,g.a.createElement(re,{left:!0}),n.map(function(e){return g.a.createElement(W,{inputName:"pagination",inputValue:e,inputId:"item".concat(e),filtered:"item".concat(r),handlerChange:o,underline:!0},e)}),g.a.createElement(re,{right:!0})),g.a.createElement("form",null,t.map(function(e){return g.a.createElement(W,{inputName:"perPageCount",inputValue:e,inputId:"perPage".concat(e),filtered:"perPage".concat(a),handlerChange:c,underline:!0},e)})))},dn=b.a.div(fn());function mn(){var e=a()(["\n    display: flex;\n    justify-content: center;\n    color: ",";\n    font-size: 24px;\n    flex: auto;\n"]);return mn=function(){return e},e}function hn(){var e=a()(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 80%;\n    margin: 0 auto;    \n"]);return hn=function(){return e},e}function gn(){var e=a()(["\n    flex: 1 0 auto;\n    width: 100%;    \n    background-color: ",";  \n    padding: 30px 0; \n"]);return gn=function(){return e},e}var vn=function(e){function n(){var e,t;c()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=s()(this,(e=p()(n)).call.apply(e,[this].concat(a))),H()(F()(t),"urlParse",function(){var e=t.props,n=e.fetchMovies,r=e.location,a=new URLSearchParams(r.search),o=a.get("searchBy"),c=a.get("sortBy"),i=a.get("sortOrder"),u=a.get("search"),l=a.get("offset"),s=a.get("limit");n("http://react-cdp-api.herokuapp.com/movies?searchBy=".concat(o,"&sortBy=").concat(c,"&sortOrder=").concat(i,"&search=").concat(u,"&offset=").concat(l,"&limit=").concat(s))}),H()(F()(t),"changePageHandler",function(e,n){var r=t.props,a=r.changePage,o=r.changeOffset,c=r.fetchMovies,i=(r.activeFilm,r.fetchSameGenreMovies,r.searchBy),u=r.sortBy,l=r.sortOrder,s=r.term,f=r.moviesPerPage;r.match;a(+n),o();var p=(n-1)*f;c("http://react-cdp-api.herokuapp.com/movies?searchBy=".concat(i,"&sortBy=").concat(u,"&sortOrder=").concat(l,"&search=").concat(s,"&offset=").concat(p,"&limit=").concat(f))}),H()(F()(t),"changeMoviesPerPageHandler",function(e,n){var r=t.props,a=r.changeMoviesPerPage,o=r.changeOffset,c=r.fetchMovies,i=(r.activeFilm,r.fetchSameGenreMovies,r.searchBy),u=r.sortBy,l=r.sortOrder,s=r.term,f=r.offset;r.match;a(+n),o(),c("http://react-cdp-api.herokuapp.com/movies?searchBy=".concat(i,"&sortBy=").concat(u,"&sortOrder=").concat(l,"&search=").concat(s,"&offset=").concat(f,"&limit=").concat(n))}),t}return m()(n,e),u()(n,[{key:"componentWillMount",value:function(){this.props.location.search&&this.urlParse()}},{key:"componentDidUpdate",value:function(e){this.props.location.search!==e.location.search&&this.urlParse()}},{key:"render",value:function(){var e=this.props,n=e.currentPage,t=e.moviesPerPage,r=e.movies,a=e.total,o=e.sameGenresFilms,c=e.match,i=Array(Math.ceil(a/t)).fill(1).map(function(e,n){return n+1}),u=[12,24,48,96],l=c&&c.params.id?o:r;return l&&l.length?g.a.createElement(bn,null,g.a.createElement(pn,{arrayOfPages:i,arrayOfPerPages:u,currentPage:n,moviesPerPage:t,changePageHandler:this.changePageHandler,changePerPageHandler:this.changeMoviesPerPageHandler}),g.a.createElement(En,null,l.map(function(e){return g.a.createElement(an,{info:e,key:e.id})})),g.a.createElement(pn,{arrayOfPages:i,arrayOfPerPages:u,currentPage:n,moviesPerPage:t,changePageHandler:this.changePageHandler,changePerPageHandler:this.changeMoviesPerPageHandler})):g.a.createElement(xn,null,"There are no such films...")}}]),n}(h.Component),yn=Object(v.withRouter)(Object(q.connect)(function(e){var n=e.search,t=e.movies,r=e.movie;return{activeFilm:r.activeFilm,sameGenresFilms:r.sameGenresFilms,currentPage:n.currentPage,moviesPerPage:n.moviesPerPage,searchBy:n.searchBy,sortBy:n.sortBy,sortOrder:n.sortOrder,term:n.term,movies:t.movies,total:t.total}},{fetchMovies:Ae.e,changePage:Ae.c,changeOffset:Ae.b,changeMoviesPerPage:Ae.a})(vn));vn.propTypes={sameGenresFilms:T.a.shape({}),total:T.a.number,offset:T.a.number,movies:T.a.arrayOf(T.a.shape({})),currentPage:T.a.number,changeMoviesPerPage:T.a.func,moviesPerPage:T.a.number,term:T.a.string,sortOrder:T.a.string,searchBy:T.a.string,sortBy:T.a.string,fetchSameGenreMovies:T.a.func,changeOffset:T.a.func,changePage:T.a.func,fetchMovies:T.a.func,activeFilm:T.a.shape({}),match:T.a.shape({}),location:T.a.shape({})};var bn=b.a.div(gn(),E.white),En=b.a.div(hn()),xn=b.a.div(mn(),E.red),Pn=function(){return g.a.createElement(h.Fragment,null,g.a.createElement(Ne,null),g.a.createElement(yn,null))};function On(){var e=a()(["\n    background-color: ",";\n    color: ",";\n    text-decoration: none;\n    padding: 6px;\n    border-radius: 6px;\n"]);return On=function(){return e},e}function wn(){var e=a()(["\n        font-weight: 800;\n    "]);return wn=function(){return e},e}function Bn(){var e=a()(["\n    color: ",";  \n    font-weight: 400;\n    padding: 10px;\n    \n     ","\n"]);return Bn=function(){return e},e}function Sn(){var e=a()(["\n    color: ",";  \n    font-size: 24px;\n    margin: 10px 0;  \n"]);return Sn=function(){return e},e}function jn(){var e=a()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;   \n"]);return jn=function(){return e},e}function kn(){var e=a()(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 80%;        \n"]);return kn=function(){return e},e}function _n(){var e=a()(["\n    position: relative;\n    width: 15%;\n    height: 0;\n    padding-top: 22.5%;\n"]);return _n=function(){return e},e}function Tn(){var e=a()(["\n        flex-direction: column;\n    "]);return Tn=function(){return e},e}function Cn(){var e=a()(["\n    display: flex;\n    justify-content: space-between; \n    \n    ","   \n"]);return Cn=function(){return e},e}var Mn=function(e){function n(){return c()(this,n),s()(this,p()(n).apply(this,arguments))}return m()(n,e),u()(n,[{key:"componentWillMount",value:function(){var e=this.props,n=e.match,t=e.fetchMovie;if(n){var r=n.params.id;console.log(t),t(r),console.log("fetch1")}}},{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.fetchMovie,r=n.match;r.params.id!==e.match.params.id&&(t(r.params.id),console.log("fetch2"))}},{key:"render",value:function(){var e=this.props.targetFilm;return e?g.a.createElement(be,null,g.a.createElement(xe,null,g.a.createElement(Fn,null,g.a.createElement(P,null),g.a.createElement(In,{to:"/",id:"backToSearch"},"Search")),g.a.createElement(Fn,null,g.a.createElement(Gn,null,g.a.createElement(qn,{src:e.poster_path})),g.a.createElement(Hn,null,g.a.createElement(An,null,e.title),g.a.createElement(Dn,null,e.genres.join(", ")),g.a.createElement("div",null,g.a.createElement(Dn,{bold:!0},e.release_date.split("-")[0]),g.a.createElement(Dn,{bold:!0},e.runtime,"min")),g.a.createElement(Dn,null,e.overview))))):g.a.createElement("div",null,"Loading")}}]),n}(h.Component),Rn=Object(v.withRouter)(Object(q.connect)(function(e){return{targetFilm:e.movie.activeFilm}},{fetchMovie:Ae.d})(Mn));Mn.propTypes={targetFilm:T.a.shape({}),fetchMovie:T.a.func,match:T.a.shape({})};var Fn=b.a.div(Cn(),function(e){return e.column&&Object(y.css)(Tn())}),Gn=b.a.div(_n()),Hn=b.a.div.attrs({className:"film-info-wrapper"})(kn()),qn=b.a.img(jn()),An=b.a.h3(Sn(),E.red),Dn=b.a.span(Bn(),E.white,function(e){return e.bold&&Object(y.css)(wn())}),In=b()(v.Link)(On(),E.white,E.red);function Nn(){var e=a()(["\n    width: 80%;\n    margin: 0 auto;\n"]);return Nn=function(){return e},e}function Ln(){var e=a()(["\n    width: 100%;\n    background-color: ",";\n    padding: 10px 0;\n"]);return Ln=function(){return e},e}var Vn=function(e){function n(){return c()(this,n),s()(this,p()(n).apply(this,arguments))}return m()(n,e),u()(n,[{key:"render",value:function(){var e=this.props.activeFilm;return g.a.createElement(Un,null,g.a.createElement(Yn,null,"Films by",e?"   ".concat(e.genres[0],"    "):"...","genre"))}}]),n}(h.Component),zn=Object(q.connect)(function(e){return{activeFilm:e.movie.activeFilm}},null)(Vn);Vn.propTypes={activeFilm:T.a.object};var Un=b.a.div(Ln(),E.grey),Yn=b.a.div(Nn()),Kn=function(){return g.a.createElement(h.Fragment,null,g.a.createElement(Rn,null),g.a.createElement(zn,null),g.a.createElement(yn,null))};function Qn(){var e=a()(["\n  color: ",";\n  font-size: 40px;\n"]);return Qn=function(){return e},e}function Wn(){var e=a()(["\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n"]);return Wn=function(){return e},e}var Xn=b.a.div(Wn()),Jn=b.a.h2(Qn(),E.red),Zn=function(){return g.a.createElement(Xn,null,g.a.createElement(Jn,null," There is no such page ..."))};function $n(){var e=a()(["\n  color: ",";\n  font-size: 40px;\n"]);return $n=function(){return e},e}function et(){var e=a()(["\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n"]);return et=function(){return e},e}var nt=b.a.div(et()),tt=b.a.span($n(),E.red),rt=function(){return g.a.createElement(nt,null,g.a.createElement(tt,null,"404 page"))},at=function(){return g.a.createElement(h.Fragment,null,g.a.createElement(Zn,null),g.a.createElement(rt,null))};function ot(){var e=a()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n"]);return ot=function(){return e},e}var ct=function(e){function n(){return c()(this,n),s()(this,p()(n).apply(this,arguments))}return m()(n,e),u()(n,[{key:"render",value:function(){return g.a.createElement(it,null,g.a.createElement(M,null,g.a.createElement(v.Switch,null,g.a.createElement(v.Route,{exact:!0,path:"/",component:Je}),g.a.createElement(v.Route,{path:"/search",component:Pn}),g.a.createElement(v.Route,{path:"/film/:id",component:Kn}),g.a.createElement(v.Route,{path:"*",component:at})),g.a.createElement(S,null)))}}]),n}(h.Component),it=(n.a=ct,b.a.div(ot()))},zr5I:function(e,n){e.exports=require("axios")}});